var me=Object.defineProperty;var oe=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable;var J=(e,t,s)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,w=(e,t)=>{for(var s in t||(t={}))ge.call(t,s)&&J(e,s,t[s]);if(oe)for(var s of oe(t))ye.call(t,s)&&J(e,s,t[s]);return e};var X=(e,t,s)=>(J(e,typeof t!="symbol"?t+"":t,s),s);import{W as se,s as le,r as k,u as ae,a as U,c as m,w as Y,b as Z,d as he,e as G,f as z,t as j,g as C,h as B,o as f,i as _,n as S,j as A,k as D,l as r,m as H,p as L,q as re,v as ce,x as be,y as W,T as ke,F as ie,z as Ce,A as $e,B as _e,C as Se,D as x,E as Ae,G as ee,H as We,P as Me,I as Ke,J as Pe,K as Ne,L as Te,M as Le,S as Be,N as De,O as Ee,Q as Oe,R as ze,U as je,V as Ie,X as Re}from"./vendor.ad93a8e6.js";const Ve=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerpolicy&&(u.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?u.credentials="include":a.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(a){if(a.ep)return;a.ep=!0;const u=s(a);fetch(a.href,u)}};Ve();class ue extends se{constructor(){super(...arguments);X(this,"name","WalletNotSelectedError")}}class qe extends se{constructor(){super(...arguments);X(this,"name","WalletNotSelectedError")}}const Fe=({wallets:e=[],autoConnect:t=!1,onError:s=a=>console.error(a),localStorageKey:o="walletName"})=>{const a=le(e),u=k(t),c=ae(o,null),n=le(null),v=k(null),i=k(U.NotDetected),d=k(!1),g=k(!1),y=k(!1),M=m(()=>i.value===U.Installed||i.value===U.Loadable),K=l=>{var p,F,ne;n.value=l,i.value=(p=l==null?void 0:l.readyState)!=null?p:U.NotDetected,v.value=(F=l==null?void 0:l.publicKey)!=null?F:null,d.value=(ne=l==null?void 0:l.connected)!=null?ne:!1},$=l=>(s(l),l),O=m(()=>a.value.reduce((l,p)=>(l[p.name]=p,l),{}));Y(c,()=>{var l,p;K((p=(l=O.value)==null?void 0:l[c.value])!=null?p:null)},{immediate:!0});const R=async l=>{c.value!==l&&(c.value=l)},P=()=>K(n.value),h=()=>K(n.value),b=()=>c.value=null,N=Z(l=>{const p=n.value;!p||(p.on("readyStateChange",P),p.on("connect",h),p.on("disconnect",b),p.on("error",s),l(()=>{p.off("readyStateChange",P),p.off("connect",h),p.off("disconnect",b),p.off("error",s)}))});typeof window!="undefined"&&window.addEventListener("unload",N);const T=async()=>{if(!(d.value||g.value||y.value)){if(!n.value)throw $(new ue);if(!M.value)throw c.value=null,typeof window!="undefined"&&window.open(n.value.url,"_blank"),$(new he);try{g.value=!0,await n.value.connect()}catch(l){throw c.value=null,l}finally{g.value=!1}}},V=async()=>{if(!y.value){if(!n.value){c.value=null;return}try{y.value=!0,await n.value.disconnect()}finally{c.value=null,y.value=!1}}},q=async(l,p,F)=>{if(!n.value)throw $(new ue);if(!d.value)throw $(new G);return await n.value.sendTransaction(l,p,F)},ve=m(()=>{const l=n.value;if(!!(l&&"signTransaction"in l))return async p=>{if(!d.value)throw $(new G);return await l.signTransaction(p)}}),we=m(()=>{const l=n.value;if(!!(l&&"signAllTransactions"in l))return async p=>{if(!d.value)throw $(new G);return await l.signAllTransactions(p)}}),fe=m(()=>{const l=n.value;if(!!(l&&"signMessage"in l))return async p=>{if(!d.value)throw $(new G);return await l.signMessage(p)}});return Z(async()=>{if(!(!u.value||!n.value||!M.value||d.value||g.value))try{g.value=!0,await n.value.connect()}catch{c.value=null}finally{g.value=!1}}),{wallets:a,autoConnect:u,wallet:n,publicKey:v,readyState:i,ready:M,connected:d,connecting:g,disconnecting:y,select:R,connect:T,disconnect:V,sendTransaction:q,signTransaction:ve,signAllTransactions:we,signMessage:fe}};let te=null;const E=()=>{if(te)return te;throw new qe("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},Ue=e=>{te=Fe(e)};var I=(e,t)=>{const s=e.__vccOpts||e;for(const[o,a]of t)s[o]=a;return s};const Ge=z({props:{wallet:Object},setup(e){return j(e)}}),He={class:"swv-button-icon"},Qe=["src","alt"];function Je(e,t,s,o,a,u){return f(),C("i",He,[e.wallet?(f(),C("img",{key:0,src:e.wallet.icon,alt:`${e.wallet.name} icon`},null,8,Qe)):B("",!0)])}var Q=I(Ge,[["render",Je]]);const Xe=z({components:{WalletIcon:Q},props:{disabled:Boolean},setup(e,{emit:t}){const{disabled:s}=j(e),{wallet:o,connect:a,connecting:u,connected:c}=E(),n=m(()=>u.value?"Connecting ...":c.value?"Connected":o.value?"Connect":"Connect Wallet"),i={wallet:o,disabled:s,connecting:u,connected:c,content:n,onClick:d=>{t("click",d),!d.defaultPrevented&&a().catch(()=>{})}};return w({scope:i},i)}}),Ye=["disabled"],Ze=["textContent"];function xe(e,t,s,o,a,u){const c=D("wallet-icon");return _(e.$slots,"default",S(A(e.scope)),()=>[r("button",{class:"swv-button swv-button-trigger",disabled:e.disabled||!e.wallet||e.connecting||e.connected,onClick:t[0]||(t[0]=(...n)=>e.onClick&&e.onClick(...n))},[e.wallet?(f(),H(c,{key:0,wallet:e.wallet},null,8,["wallet"])):B("",!0),r("p",{textContent:L(e.content)},null,8,Ze)],8,Ye)])}var et=I(Xe,[["render",xe]]);z({components:{WalletIcon:Q},props:{disabled:Boolean},setup(e,{emit:t}){const{disabled:s}=j(e),{wallet:o,disconnect:a,disconnecting:u}=E(),c=m(()=>u.value?"Disconnecting ...":o.value?"Disconnect":"Disconnect Wallet"),v={wallet:o,disconnecting:u,disabled:s,content:c,handleClick:i=>{t("click",i),!i.defaultPrevented&&a().catch(()=>{})}};return w({scope:v},v)}});const tt=z({components:{WalletIcon:Q},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(e,{slots:t}){const{featured:s,container:o,logo:a,dark:u}=j(e),c=k(null),n=k(!1),v=()=>n.value=!0,i=()=>n.value=!1,d=m(()=>!!t.logo||!!a.value),{wallets:g,select:y}=E(),M=k(!1),K=m(()=>g.value.slice(0,s.value)),$=m(()=>g.value.slice(s.value)),O=m(()=>M.value?g.value:K.value);re(c,i),ce("Escape",i),ce("Tab",h=>{var V,q;const b=(q=(V=c.value)==null?void 0:V.querySelectorAll("button"))!=null?q:[],N=b==null?void 0:b[0],T=b==null?void 0:b[b.length-1];h.shiftKey&&document.activeElement===N&&T?(T.focus(),h.preventDefault()):!h.shiftKey&&document.activeElement===T&&N&&(N.focus(),h.preventDefault())}),Y(n,h=>{!h||Ce(()=>{var b,N,T;return(T=(N=(b=c.value)==null?void 0:b.querySelectorAll("button"))==null?void 0:N[0])==null?void 0:T.focus()})});const R=be(document.body);Y(n,h=>R.value=h);const P={dark:u,logo:a,hasLogo:d,featured:s,container:o,modalPanel:c,modalOpened:n,openModal:v,closeModal:i,expandedWallets:M,walletsToDisplay:O,featuredWallets:K,hiddenWallets:$,selectWallet:y};return w({scope:P},P)}}),nt=r("div",{class:"swv-modal-overlay"},null,-1),ot={class:"swv-modal-container",ref:"modalPanel"},st={key:0,class:"swv-modal-logo-wrapper"},lt=["src"],at=r("h1",{class:"swv-modal-title",id:"swv-modal-title"}," Connect Wallet ",-1),rt=r("svg",{width:"14",height:"14"},[r("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),ct=[rt],it={class:"swv-modal-list"},ut=["onClick"],dt={class:"swv-button"},pt=["textContent"],vt=["aria-expanded"],wt=r("i",{class:"swv-button-icon"},[r("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function ft(e,t,s,o,a,u){const c=D("wallet-icon");return f(),C(ie,null,[r("div",{class:W(e.dark?"swv-dark":"")},[_(e.$slots,"default",S(A(e.scope)))],2),e.modalOpened?(f(),H(ke,{key:0,to:e.container},[r("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:W(["swv-modal",e.dark?"swv-dark":""]),role:"dialog"},[_(e.$slots,"overlay",S(A(e.scope)),()=>[nt]),r("div",ot,[_(e.$slots,"modal",S(A(e.scope)),()=>[r("div",{class:W(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!e.hasLogo}])},[e.hasLogo?(f(),C("div",st,[_(e.$slots,"logo",S(A(e.scope)),()=>[r("img",{alt:"logo",class:"swv-modal-logo",src:e.logo},null,8,lt)])])):B("",!0),at,r("button",{onClick:t[0]||(t[0]=$e((...n)=>e.closeModal&&e.closeModal(...n),["prevent"])),class:"swv-modal-button-close"},ct),r("ul",it,[(f(!0),C(ie,null,_e(e.walletsToDisplay,n=>(f(),C("li",{key:n.name,onClick:v=>{e.selectWallet(n.name),e.closeModal()}},[r("button",dt,[r("p",{textContent:L(n.name)},null,8,pt),x(c,{wallet:n},null,8,["wallet"])])],8,ut))),128))]),e.hiddenWallets.length>0?(f(),C("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":e.expandedWallets,class:W(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":e.expandedWallets}]),onClick:t[1]||(t[1]=n=>e.expandedWallets=!e.expandedWallets)},[Se(L(e.expandedWallets?"Less":"More")+" options ",1),wt],10,vt)):B("",!0)],2)])],512)],2)],8,["to"])):B("",!0)],64)}var mt=I(tt,[["render",ft]]);const gt=z({components:{WalletConnectButton:et,WalletIcon:Q,WalletModalProvider:mt},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(e){const{featured:t,container:s,logo:o,dark:a}=j(e),{publicKey:u,wallet:c,disconnect:n}=E(),v=k(),i=k(!1),d=()=>i.value=!0,g=()=>i.value=!1;re(v,g);const y=m(()=>{var h;return(h=u.value)==null?void 0:h.toBase58()}),M=m(()=>!c.value||!y.value?null:y.value.slice(0,4)+".."+y.value.slice(-4)),{copy:K,copied:$,isSupported:O}=Ae(),P={featured:t,container:s,logo:o,dark:a,wallet:c,publicKey:u,publicKeyTrimmed:M,publicKeyBase58:y,canCopy:O,addressCopied:$,dropdownPanel:v,dropdownOpened:i,openDropdown:d,closeDropdown:g,copyAddress:()=>y.value&&K(y.value),disconnect:n};return w({scope:P},P)}}),yt=["onClick"],ht={key:2,class:"swv-dropdown"},bt=["aria-expanded","title"],kt=["textContent"],Ct=["onClick"];function $t(e,t,s,o,a,u){const c=D("wallet-connect-button"),n=D("wallet-icon"),v=D("wallet-modal-provider");return f(),H(v,{featured:e.featured,container:e.container,logo:e.logo,dark:e.dark},{default:ee(i=>[_(e.$slots,"default",S(A(w(w({},i),e.scope))),()=>[e.wallet?e.publicKeyBase58?(f(),C("div",ht,[_(e.$slots,"dropdown-button",S(A(w(w({},i),e.scope))),()=>[r("button",{class:"swv-button swv-button-trigger",style:We({pointerEvents:e.dropdownOpened?"none":"auto"}),"aria-expanded":e.dropdownOpened,title:e.publicKeyBase58,onClick:t[0]||(t[0]=(...d)=>e.openDropdown&&e.openDropdown(...d))},[x(n,{wallet:e.wallet},null,8,["wallet"]),r("p",{textContent:L(e.publicKeyTrimmed)},null,8,kt)],12,bt)]),_(e.$slots,"dropdown",S(A(w(w({},i),e.scope))),()=>[r("ul",{"aria-label":"dropdown-list",class:W(["swv-dropdown-list",{"swv-dropdown-list-active":e.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[_(e.$slots,"dropdown-list",S(A(w(w({},i),e.scope))),()=>[e.canCopy?(f(),C("li",{key:0,onClick:t[1]||(t[1]=(...d)=>e.copyAddress&&e.copyAddress(...d)),class:"swv-dropdown-list-item",role:"menuitem"},L(e.addressCopied?"Copied":"Copy address"),1)):B("",!0),r("li",{onClick:d=>{i.openModal(),e.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,Ct),r("li",{onClick:t[2]||(t[2]=(...d)=>e.disconnect&&e.disconnect(...d)),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")])],2)])])):(f(),H(c,{key:1})):(f(),C("button",{key:0,class:"swv-button swv-button-trigger",onClick:i.openModal}," Select Wallet ",8,yt))])]),overlay:ee(i=>[_(e.$slots,"modal-overlay",S(A(w(w({},i),e.scope))))]),modal:ee(i=>[_(e.$slots,"modal",S(A(w(w({},i),e.scope))))]),_:3},8,["featured","container","logo","dark"])}var _t=I(gt,[["render",$t]]);function St(){const e=E();return m(()=>{if(!e)return;const{signTransaction:t,signAllTransactions:s,publicKey:o}=e;if(!(!o.value||!t.value||!s.value))return{publicKey:o.value,signTransaction:t.value,signAllTransactions:s.value}})}var At={install:(e,t={})=>{Ue(t),e.config.globalProperties.$wallet=E()}};const Wt="0.1.0",Mt="learn_anchor_1",Kt=[{name:"create",accounts:[{name:"baseAccount",isMut:!0,isSigner:!0},{name:"user",isMut:!0,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"increment",accounts:[{name:"baseAccount",isMut:!0,isSigner:!1}],args:[]}],Pt=[{name:"BaseAccount",type:{kind:"struct",fields:[{name:"count",type:"u64"}]}}],Nt={address:"G4a37Uh2bxak2teBAox3zbjQWT2Nr6xgD9jkj7Sgpm16"};var de={version:Wt,name:Mt,instructions:Kt,accounts:Pt,metadata:Nt};const Tt=new Me(de.metadata.address),pe="processed",Lt={components:{WalletMultiButton:_t},setup(){const e=k(!1),t=St(),s=new Ke(Pe("devnet"),pe),o=m(()=>new Ne(s,t.value,{preflightCommitment:pe})),a=m(()=>new Te(de,Tt,o.value)),u=ae("counterPublicKey",null),c=k(0);return Z(async()=>{if(!u.value)return;const i=await a.value.account.baseAccount.fetch(u.value);c.value=i.count.toNumber()}),{dark:e,counterPublicKey:u,counter:c,createCounter:async()=>{if(!t.value)return alert("Connect your wallet first.");const i=Le.generate();await a.value.rpc.create({accounts:{baseAccount:i.publicKey,user:t.value.publicKey,systemProgram:Be.programId},signers:[i]}),u.value=i.publicKey},incrementCounter:async()=>{if(t.value){if(!u.value)return alert("Create a new counter first.")}else return alert("Connect your wallet first.");await a.value.rpc.increment({accounts:{baseAccount:u.value}}),c.value+=1}}}},Bt={class:"absolute top-0 right-0 p-8 flex space-x-8"},Dt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Et=r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Ot=[Et],zt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},jt=r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),It=[jt],Rt={class:"m-auto w-full max-w-md p-8"},Vt={class:"p-8 text-center"},qt=r("p",{class:"uppercase text-xs tracking-widest text-gray-400 font-semibold"},"Counter",-1),Ft=["textContent"],Ut={class:"flex"},Gt={class:"text-sm mt-8"},Ht=r("p",{class:"text-xs font-semibold text-gray-400"},"Wallet address:",-1),Qt=r("p",{class:"text-xs font-semibold text-gray-400 mt-4"},"Counter address:",-1);function Jt(e,t,s,o,a,u){var n,v,i;const c=D("wallet-multi-button");return f(),C("div",{class:W(["h-screen w-screen flex",o.dark?"bg-gray-900 text-gray-100":"bg-gray-100 text-gray-700"])},[r("div",Bt,[r("button",{onClick:t[0]||(t[0]=d=>o.dark=!o.dark),class:W(["rounded-full p-3",o.dark?"bg-white/10 hover:bg-white/20 text-gray-200":"bg-black/10 hover:bg-black/20 text-gray-600"])},[o.dark?(f(),C("svg",Dt,Ot)):(f(),C("svg",zt,It))],2),x(c,{dark:o.dark},null,8,["dark"])]),r("div",Rt,[r("div",{class:W(["shadow-xl rounded-xl",o.dark?"bg-gray-700":"bg-white"])},[r("div",Vt,[qt,r("p",{class:W(["font-bold text-5xl mt-2",o.dark?"text-white":"text-gray-900"]),textContent:L(o.counterPublicKey?o.counter:"Not Set")},null,10,Ft)]),r("div",Ut,[r("button",{class:W(["flex-1 py-4 px-2 rounded-bl-xl",o.dark?"hover:bg-gray-800":"hover:bg-gray-100"]),onClick:t[1]||(t[1]=(...d)=>o.createCounter&&o.createCounter(...d))},"New Counter",2),r("button",{class:W(["flex-1 py-4 px-2 rounded-br-xl",o.dark?"hover:bg-gray-800":"hover:bg-gray-100"]),onClick:t[2]||(t[2]=(...d)=>o.incrementCounter&&o.incrementCounter(...d))},"Increment Counter",2)])],2),r("div",Gt,[Ht,r("p",null,L((v=(n=e.$wallet.publicKey.value)==null?void 0:n.toBase58())!=null?v:"Not connected"),1),Qt,r("p",null,L((i=o.counterPublicKey)!=null?i:"Not created"),1)])])],2)}var Xt=I(Lt,[["render",Jt]]);const Yt={wallets:[new De,new Ee,new Oe({network:"devnet"}),new ze,new je({network:"devnet"}),new Ie({network:"devnet"})],autoConnect:!0};Re(Xt).use(At,Yt).mount("#app");
